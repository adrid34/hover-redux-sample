var Hoverboard=function(){"use strict";function t(t,e,o){var u,i,c,p={};for(i in t)f.test(i)&&(u=n(t,i,o),c=a(i),p[c]=u);return p.getState=function(n){return r(n)?e(n):t.getState()},p}function n(t,n,e){return function(r,o,a){if(i)throw new Error("Hoverboard: Cannot call action in the middle of an action");i=1,t.state=e();try{var u=arguments.length;0===u?t[n]():1===u?t[n](r):2===u?t[n](r,o):3===u?t[n](r,o,a):t[n].apply(t,arguments)}finally{i=0}}}function e(t,n){var e,r,o=[];for(e=0;e<t.length;e++)r=t[e],r!==n&&o.push(r);return o}function r(t){return"function"==typeof t}function o(t){return t&&"object"==typeof t&&("number"!=typeof t.length||!r(t.splice))}function a(t){return t.charAt(2).toLowerCase()+t.substring(3)}function u(t,n){var e,o,a,u=function(){n(this),a&&a.apply(this)};r(t)?(e=t.prototype,a=t):e=t;for(o in e)u.prototype[o]=e[o];return u}var i=0,f=/^on[A-Z]/,c=function(){};return function(n){var a,i={},f=[],p=0,l=0,s=function(){if(s=c,r(a.getInitialState)){var t=a.getInitialState(),n=i;i=t,l&&h(n)}},g=function(){return s(),y.call(a,i)},y=function(t){return t},h=function(t){if(s(),p)throw new Error("Hoverboard: Cannot change state during a state change event");if(l=p=1,o(i)&&o(t)){var n,e;for(n in t)i[n]=t[n]}else i=t;a.state=i;try{for(e=0;e<f.length;e++)f[e](g())}finally{p=0}},v=function(t){i=null,h(t)},S=function(t){return f.push(t),t(g()),function(){t&&(f=e(f,t),t=null)}},b=function(){return s(),i};return n=u(n,function(t){a=t}),n.prototype.getState&&(y=n.prototype.getState),n.prototype.getState=g,n.prototype.setState=h,n.prototype.replaceState=v,a=new n,a.state=i,t(a,S,b)}}();