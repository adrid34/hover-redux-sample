var Hoverboard=function(){"use strict";function n(n,r,e,u){var i,f=function(n){return o(n)?r(n):e()};for(i in n)f[i]=t(n,i,e,u);return f}function t(n,t,r,e){return function(u,a,c){if(i)throw new Error("Hoverboard: Cannot call action in the middle of an action");i=1;var l,p,h,s=r();try{l=arguments.length,0===l?p=n[t](s):1===l?p=n[t](s,u):2===l?p=n[t](s,u,a):3===l?p=n[t](s,u,a,c):(h=[s].concat(f.call(arguments,0)),p=n[t].apply(n,h)),o(p)?p(e):p&&e(p)}finally{i=0}}}function r(n,t){var r,o,e=[];for(r=0;r<n.length;r++)o=n[r],o!==t&&e.push(o);return e}function o(n){return"function"==typeof n}function e(n){return n&&"object"==typeof n&&("number"!=typeof n.length||!o(n.splice))}function u(n,t,r){var e,u,i,f=function(){return r(this),e?e.apply(this,[t]):void 0};o(n)?(u=n.prototype,e=n):u=n;for(i in u)f.prototype[i]=u[i];return f}var i=0,f=[].slice;return function(t){var o,i={},f=[],a=0,c=function(n){var t,r,o;if(a)throw new Error("Hoverboard: Cannot change state during a state change event");if(a=1,e(i)&&e(n))for(t in n)i[t]=n[t];else i=n;try{for(o=f,r=0;r<o.length;r++)o[r](p())}finally{a=0}},l=function(n){return f.push(n),n(p()),function(){n&&(f=r(f,n),n=null)}},p=function(){return i};return t=u(t,c,function(n){o=n}),o=new t,n(o,l,p,c)}}();